背景：

    1.默认情况下，队列和队列数据仅仅存在一个节点上，不具备冗余特性。
    2.镜像队列中存在一个主镜像和n个从镜像。

工作原理：

    1.发送消息、消费消息，消息确认会首先将操作在主镜像队列上执行，然后复制到其他的从镜像队列，在所有的复制操作完成以后，对应的任务才算完成。
    2.消息消费程序不管连接到哪个节点，操作最初都是发生在主镜像节点。
    3.主镜像节点不可用后，最早的已经完成同步(或根据配置未完成)的镜像队列会被推选为主镜像节点。根据配置，没有完成消息同步的从镜像节点也可以被选举为主镜像节点。当不可用的节点恢复以后，会以新节点的形式重新加入集群(该节点上镜像队列上的数据将会被删除)。
    4.在主镜像节点不可用后，队列消费者需要重新连接，同时，镜像队列中没有收到消费确认的消息将会重新加入队列，这种场景下，可能会导致消息重复，因此，应用需要支持幂等性。

配置(policies)：

    1.ha-mode: exactly, nodes, all
    2.ha-params
    3.x-queue-master-locator(主镜像队列节点位置):

        1.min-masters(最少主队列节点)
        2.client-local(连接的节点)
        3.random(随机)
    4.ha-promote-on-failure: when-synced|always(默认) 控制是否允许不同步的镜像队列被推选为主队列。
    5.ha-promote-on-shutdown: when-synced(默认)|always 主动的节点关闭
    6.ha-sync-model:automatic|manual(默认)
    7.ha-sync-batch-size: 批量同步消息体积(需要考虑节点通信能力)


注意事项：

    1.镜像队列只是增强了高可用性，但是对于提高抗压能力没有作用。
    2.队列同步会阻塞其他操作。


同步配置

批量同步

